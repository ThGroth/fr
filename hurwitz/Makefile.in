# Makefile for Hurwitz data programs

CXX = g++ -ggdb
LOCALBIN = ../bin/@GAPARCH@

all: $(LOCALBIN)/layout $(LOCALBIN)/hsolve

$(LOCALBIN)/layout: layout.C
	$(CXX) @CHOLMODINCLUDE@ @LIBDOGLEGINCLUDE@ $< -o $@ @LDLAYOUT@

$(LOCALBIN)/hsolve: hsolve.C
	$(CXX) @LEVMAR_CFLAGS@ @LEVMAR_LDFLAGS@ $< -o $@ @LEVMAR_LIBS@

configure: configure.ac Makefile.in
	aclocal -I../cnf/m4
	autoconf

clean:
	rm -rf hsolve layout *.dSYM

mrproper:
	rm Makefile config.h
